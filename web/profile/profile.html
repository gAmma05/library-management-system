<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
</head>
<body>
<h2>Profile</h2>
<div id="server-response-dislay"></div>
<form id="profileForm" onsubmit="handleProfile(event)">
    <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" readonly>
    </div>
    <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" readonly>
    </div>
    <div class="form-group">
        <label for="fname">First name:</label>
        <input type="text" id="fname" name="fname" required
               maxlength="100" pattern="[A-Za-z ]{1,100}">
        <div class="error" id="fname-error">Please enter a valid first name</div>
    </div>
    <div class="form-group">
        <label for="lname">Last name:</label>
        <input type="text" id="lname" name="lname" required
               maxlength="100" pattern="[A-Za-z ]{1,100}">
        <div class="error" id="lname-error">Please enter a valid last name</div>
    </div>
    <div class="form-group">
        <label for="dob">Date of Birth:</label>
        <input type="date" id="dob" name="dob" required>
        <div class="error" id="dob-error">Please enter a valid date of birth</div>
    </div>

</form>

<script>

    document.addEventListener('DOMContentLoaded', () => {
        urlParams = new URLSearchParams(window.location.search);
        const data = JSON.parse(urlParams.get('data'));
        console.log(data);
        document.getElementById('email').value = data.email;
        document.getElementById('fname').value = data.fname;
        document.getElementById('lname').value = data.lname;
        document.getElementById('dob').value = data.dob;
    })

    async function handleProfile(event) {
        event.preventDefault();

    }


</script>
</body>
</html>